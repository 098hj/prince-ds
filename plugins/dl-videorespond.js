const _0x5a7bbe=_0x532d;(function(_0x5699e4,_0xa6eefe){const _0x250c33=_0x532d,_0x3af06a=_0x5699e4();while(!![]){try{const _0x556c5d=parseInt(_0x250c33(0x1ef))/0x1+-parseInt(_0x250c33(0x1b1))/0x2+parseInt(_0x250c33(0x1d7))/0x3*(parseInt(_0x250c33(0x1f8))/0x4)+parseInt(_0x250c33(0x1da))/0x5+-parseInt(_0x250c33(0x1d8))/0x6*(-parseInt(_0x250c33(0x1d6))/0x7)+parseInt(_0x250c33(0x1ea))/0x8+-parseInt(_0x250c33(0x1b5))/0x9;if(_0x556c5d===_0xa6eefe)break;else _0x3af06a['push'](_0x3af06a['shift']());}catch(_0x26168a){_0x3af06a['push'](_0x3af06a['shift']());}}}(_0x36dc,0xce9b8));import _0x3f21ba from'node-fetch';import _0x505580 from'yt-search';const FILE_SIZE_LIMITS={'STANDARD':0x64,'MAXIMUM':0x190},handler=async(_0x4ab267,{conn:_0x411453,command:_0x1a27b1,args:_0x1ebf79,usedPrefix:_0x10f3c5})=>{const _0x4b21a4=_0x532d;try{const _0x5ad999=_0x1ebf79[0x0]||(_0x4ab267[_0x4b21a4(0x1ce)]?.[_0x4b21a4(0x1ee)]||'');if(!_0x5ad999)throw _0x4b21a4(0x1db)+_0x10f3c5+_0x4b21a4(0x1bd)+_0x10f3c5+_0x4b21a4(0x1c9)+_0x10f3c5+'video3*\x20-\x20720p\x20üé•\x0a\x20\x20\x20‚û§\x20*'+_0x10f3c5+'video4*\x20-\x201080p\x20üì∫\x0a\x0aüìå\x20*Example\x20Usage:*\x20'+_0x10f3c5+_0x1a27b1+_0x4b21a4(0x1b6);_0x4ab267[_0x4b21a4(0x1b0)]&&_0x4ab267['react']('‚è≥');let _0x4fec34,_0x144a0c;if(_0x5ad999['match'](/youtube\.com|youtu\.be/))_0x4fec34=_0x5ad999,_0x144a0c=await _0x505580({'videoId':extractVideoId(_0x4fec34)});else{const _0x3e48e1=await search(_0x5ad999);if(!_0x3e48e1||_0x3e48e1['length']===0x0)throw new Error(_0x4b21a4(0x1e7));_0x144a0c=_0x3e48e1[0x0],_0x4fec34=_0x144a0c[_0x4b21a4(0x1c4)];}const _0x209cd3=_0x144a0c[_0x4b21a4(0x1f4)],_0x4f7563=_0x4b21a4(0x1e6)+(_0x144a0c[_0x4b21a4(0x1c8)]?_0x144a0c['author'][_0x4b21a4(0x1b7)]:'Unknown')+_0x4b21a4(0x1c7)+(_0x144a0c[_0x4b21a4(0x1e8)]||_0x4b21a4(0x1c1))+_0x4b21a4(0x1d0)+(secondString(_0x144a0c[_0x4b21a4(0x1c0)][_0x4b21a4(0x1c3)])||_0x4b21a4(0x1b2))+_0x4b21a4(0x1d4)+(_0x144a0c['views']||_0x4b21a4(0x1ba))+_0x4b21a4(0x1d1)+_0x144a0c['url']+_0x4b21a4(0x1f5);await _0x411453['sendMessage'](_0x4ab267['chat'],{'image':{'url':_0x209cd3},'caption':_0x4f7563},{'quoted':_0x4ab267}),await downloadAndSendVideo(_0x4ab267,_0x411453,_0x4fec34,_0x1a27b1);}catch(_0xf7e683){console[_0x4b21a4(0x1b3)]('Handler\x20Error:',_0xf7e683),await _0x411453['sendMessage'](_0x4ab267[_0x4b21a4(0x1e1)],{'text':_0x4b21a4(0x1cb)+(_0xf7e683[_0x4b21a4(0x1c6)]||'Failed\x20to\x20process\x20video\x20request.')},{'quoted':_0x4ab267});}};async function downloadAndSendVideo(_0x38284b,_0x20f37b,_0x103284,_0x52a5d0){const _0x3d95bd=_0x532d;try{const _0x42de4b='yanzdev',_0xe7c50b=_0x3d95bd(0x1f1)+encodeURIComponent(_0x103284)+_0x3d95bd(0x1e9)+_0x42de4b,_0x37e242=await _0x3f21ba(_0xe7c50b);if(!_0x37e242['ok'])throw new Error(_0x3d95bd(0x1f0)+_0x37e242['status']);const _0x4a0328=await _0x37e242['json']();if(!_0x4a0328?.[_0x3d95bd(0x1af)]?.['caption']?.[_0x3d95bd(0x1eb)]?.[_0x3d95bd(0x1dd)])throw new Error(_0x3d95bd(0x1bc));const _0x288984=_0x4a0328[_0x3d95bd(0x1af)][_0x3d95bd(0x1f3)][_0x3d95bd(0x1eb)][_0x3d95bd(0x1dd)],_0x26424d=_0x4a0328[_0x3d95bd(0x1af)][_0x3d95bd(0x1f3)][_0x3d95bd(0x1eb)][_0x3d95bd(0x1e8)]||'video',_0x1c70b6=getTargetQuality(_0x52a5d0);let _0x2baf36=await selectBestFormat(_0x288984,_0x1c70b6);if(!_0x2baf36)throw new Error(_0x3d95bd(0x1aa)+_0x1c70b6);const _0x49a7be=await getBuffer(_0x2baf36['url']),_0x55594f=_0x2baf36[_0x3d95bd(0x1b8)]/(0x400*0x400);if(_0x55594f>=FILE_SIZE_LIMITS[_0x3d95bd(0x1df)])await _0x20f37b[_0x3d95bd(0x1ae)](_0x38284b[_0x3d95bd(0x1e1)],{'text':_0x2baf36['url']},{'quoted':_0x38284b});else _0x55594f>=FILE_SIZE_LIMITS['STANDARD']?await _0x20f37b[_0x3d95bd(0x1ae)](_0x38284b[_0x3d95bd(0x1e1)],{'document':_0x49a7be,'mimetype':_0x3d95bd(0x1e4),'fileName':_0x26424d+_0x3d95bd(0x1ad)},{'quoted':_0x38284b}):(_0x38284b[_0x3d95bd(0x1b0)]&&_0x38284b[_0x3d95bd(0x1b0)]('‚úÖ'),await _0x20f37b[_0x3d95bd(0x1ae)](_0x38284b[_0x3d95bd(0x1e1)],{'video':_0x49a7be,'mimetype':_0x3d95bd(0x1e4),'fileName':_0x26424d+_0x3d95bd(0x1ad),'caption':_0x26424d+_0x3d95bd(0x1f2)+_0x2baf36[_0x3d95bd(0x1bb)]+_0x3d95bd(0x1f9)+_0x55594f['toFixed'](0x2)+'MB'},{'quoted':_0x38284b}));}catch(_0x16823e){console[_0x3d95bd(0x1b3)]('Download\x20Error:',_0x16823e);throw new Error(_0x3d95bd(0x1d2));}}function getTargetQuality(_0x4847ef){const _0xaebfa7=_0x532d,_0x4b946c={'video':_0xaebfa7(0x1ab),'video2':_0xaebfa7(0x1e5),'video3':_0xaebfa7(0x1f7),'video4':_0xaebfa7(0x1a9)};return _0x4b946c[_0x4847ef]||_0xaebfa7(0x1ab);}function _0x36dc(){const _0x1b1ed7=['485422frPkzU','API\x20Error:\x20','https://api.yanzbotz.live/api/downloader/youtube?url=','\x0aQuality:\x20','caption','thumbnail','\x0a\x20\x20\x20‚ä±‚îÄ‚îÅ‚îÅ\x20*P\x20R\x20I\x20N\x20C\x20E\x20\x20MD*\x20‚îÅ‚îÅ‚îÄ‚ä∞','video4','720p','855908ymTmRs','\x0aSize:\x20','1080p','No\x20suitable\x20format\x20found\x20for\x20quality:\x20','360p','map','.mp4','sendMessage','result','react','1341226UFboQn','Unknown','error','search','28052811qKjill','\x20_<Your\x20Query\x20or\x20YouTube\x20Link>_\x0a\x0aüí°\x20*Tip:*\x20Reply\x20with\x20the\x20command\x20and\x20your\x20desired\x20video\x20link\x20or\x20title\x20to\x20download.\x20üì•\x0a\x0aüé∂\x20*_Mola\x20ya\x20sali\x20waslim\x20naat..._*','name','filesize','videos','N/A','quality','Invalid\x20API\x20response\x20structure','video*\x20-\x20360p\x20üìπ\x0a\x20\x20\x20‚û§\x20*','floor','video3','duration','Untitled','help','seconds','url','\x20<query>','message','\x0a\x20\x20*üé∂\x20Title:*\x20','author','video2*\x20-\x20480p\x20üéûÔ∏è\x0a\x20\x20\x20‚û§\x20*','command','Error:\x20','sort','mp4','quoted','webm','\x0a\x20\x20*‚è≥\x20Duration:*\x20','\x0a\x20\x20*üîó\x20Link:*\x20','Failed\x20to\x20download\x20video.\x20Please\x20try\x20again\x20later.','tags','\x0a\x20\x20*üëÄ\x20Views:*\x20','video','7UimYAr','15CGyEOk','7466916UXzDRx','\x20mins,\x20','3204305PGqoGc','üåü\x20*Choose\x20Your\x20Video\x20Quality*\x20üåü\x0a\x0aüé¨\x20*Options\x20Available:*\x20\x0a\x20\x20\x20‚û§\x20*','find','formats','vcodec','MAXIMUM','ext','chat','video2','filter','video/mp4','480p','‚ï≠‚îÅ‚îÅ‚ä±üå†\x20*Y\x20O\x20U\x20T\x20U\x20B\x20E*\x20üåå\x20‚ä±‚îÅ‚îÅ\x0a\x20\x20*üçø\x20Author:*\x20','No\x20video\x20found\x20for\x20the\x20provided\x20query.','title','&apiKey=','9545616xibVLm','res_data','\x20secs','downloader','text'];_0x36dc=function(){return _0x1b1ed7;};return _0x36dc();}async function selectBestFormat(_0x1dbf63,_0x260fb7){const _0x1fc843=_0x532d,_0x5b41b4=_0x1dbf63[_0x1fc843(0x1e3)](_0x27ed09=>{const _0x2538f4=_0x1fc843;return _0x27ed09[_0x2538f4(0x1bb)]===_0x260fb7&&_0x27ed09[_0x2538f4(0x1de)]!=='none'&&(_0x27ed09[_0x2538f4(0x1e0)]===_0x2538f4(0x1cd)||_0x27ed09[_0x2538f4(0x1e0)]===_0x2538f4(0x1cf));});return _0x5b41b4[_0x1fc843(0x1cc)]((_0x4f25bc,_0x554b4b)=>_0x4f25bc['filesize']-_0x554b4b[_0x1fc843(0x1b8)]),_0x5b41b4[_0x1fc843(0x1dc)](_0x1051c6=>_0x1051c6[_0x1fc843(0x1e0)]===_0x1fc843(0x1cd))||_0x5b41b4[0x0];}async function getBuffer(_0x354807){const _0x4cbdbd=await _0x3f21ba(_0x354807);if(!_0x4cbdbd['ok'])throw new Error('Failed\x20to\x20download\x20video');return Buffer['from'](await _0x4cbdbd['arrayBuffer']());}async function search(_0x54f4bd){const _0xd09bc7=_0x532d,_0xfc8c60=await _0x505580[_0xd09bc7(0x1b4)]({'query':'\x22'+_0x54f4bd+'\x22','hl':'en','gl':'US'});return _0xfc8c60[_0xd09bc7(0x1b9)];}function secondString(_0x3ba7fa){const _0x20056d=_0x532d;_0x3ba7fa=Number(_0x3ba7fa);const _0x390944=Math[_0x20056d(0x1be)](_0x3ba7fa/(0xe10*0x18)),_0x5d147c=Math['floor'](_0x3ba7fa%(0xe10*0x18)/0xe10),_0x21f076=Math['floor'](_0x3ba7fa%0xe10/0x3c),_0x3c07e3=Math[_0x20056d(0x1be)](_0x3ba7fa%0x3c),_0x165fdb=_0x390944>0x0?_0x390944+'\x20days,\x20':'',_0x35eb9f=_0x5d147c>0x0?_0x5d147c+'\x20hours,\x20':'',_0x23473b=_0x21f076>0x0?_0x21f076+_0x20056d(0x1d9):'',_0x11e60c=_0x3c07e3>0x0?_0x3c07e3+_0x20056d(0x1ec):'';return _0x165fdb+_0x35eb9f+_0x23473b+_0x11e60c;}handler[_0x5a7bbe(0x1c2)]=[_0x5a7bbe(0x1d5),_0x5a7bbe(0x1e2),_0x5a7bbe(0x1bf),_0x5a7bbe(0x1f6)][_0x5a7bbe(0x1ac)](_0x1a137a=>_0x1a137a+_0x5a7bbe(0x1c5)),handler[_0x5a7bbe(0x1d3)]=[_0x5a7bbe(0x1ed)],handler[_0x5a7bbe(0x1ca)]=['video',_0x5a7bbe(0x1e2),_0x5a7bbe(0x1bf),_0x5a7bbe(0x1f6)];function _0x532d(_0x12a150,_0x3891ce){const _0x36dcaa=_0x36dc();return _0x532d=function(_0x532d5e,_0x32a31c){_0x532d5e=_0x532d5e-0x1a9;let _0x2f2b0a=_0x36dcaa[_0x532d5e];return _0x2f2b0a;},_0x532d(_0x12a150,_0x3891ce);}export default handler;
